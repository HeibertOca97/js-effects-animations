<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Scroll Progressbar</title>
	<style>
		.box-progress{
			width:100%;
      height: 5px;
    	position: fixed;
      top:0;
      left: 0;
			background-color: rgba(0, 0, 0, .8);
			transition: all 350ms ease;
    }
		.box-progress>span{
			display: block;
			height: 100%;
			width: 0%;
			background-color: yellow;
		}
	</style>
</head>

<body>
	<div class="box-progress"><span></span></div>
	<h1>Scroll ProgressBar</h1>
	<div id="content"></div>
	<script>
		function relleno(num){
			let p = document.createElement('p');
			p.innerText = "Parrafo " + num;

			document.getElementById('content').appendChild(p);
		}

		for(let i = 1; i <= 50; i++){
			relleno(i);
		}
		
		let boxProgress = document.querySelector('.box-progress');

		function effectScrollProgressBar(){
			let scrollTop = document.documentElement.scrollTop,
				scrollHeight = document.documentElement.scrollHeight,
				clientHeight = document.documentElement.clientHeight;

			let totalWindowHeight = scrollHeight - clientHeight;
			let totalPorcentaje = Math.ceil((scrollTop / totalWindowHeight) * 100);
			
			boxProgress.children[0].style.width = `${totalPorcentaje}%`;
		}
			
		window.addEventListener('scroll', effectScrollProgressBar)

	</script>
</body>
</html>
